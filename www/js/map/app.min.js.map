{"version":3,"sources":["app.js","config/config.js","controller/chatController.js","controller/dashboard.controller.js","controller/login.controller.js","controller/main.contorller.js","controller/signup.controller.js","directives/focus.js","directives/scrollTo.js","service/api/login.api.js","service/api/signup.api.js","service/api/user.api.js"],"names":["Config","$stateProvider","$urlRouterProvider","UserResolutionService","$q","$state","User","$rootScope","deferred","defer","user","$get","resp","resolve","reject","go","promise","otherwise","state","url","templateUrl","controller","controllerAs","abstract","template","UserResolve","$inject","angular","module","config","chatserver","constant","chatController","$scope","activate","socket","io","on","data","vm","messageArray","push","name","message","uMsg","$apply","emit","sendMessage","$","focus","this","DashboardController","LoginController","LoginAPI","submit","loginObj","form","$save","_onLoginSuccess","_onLoginFailure","MainController","$http","logout","get","then","SignupController","SignupAPI","signupObj","_onSignupSuccess","_onSignupFailure","console","log","directive","scope","element","attributes","setTimeout","window","scrollTo","offsetTop","$resource","factory"],"mappings":"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","file":"app.min.js","sourcesContent":["(function() {\n\tangular\n\t\t.module('chatbox', ['ui.router', 'ngResource'])\n\t\t.config(Config);\n\nConfig.$inject = [\"$stateProvider\", \"$urlRouterProvider\"];\n////\n\nfunction Config($stateProvider, $urlRouterProvider) {\n\n\t$urlRouterProvider.otherwise(\"/login\");\n\n\t$stateProvider\n\t\t.state(\"chat\", {\n\t\t\turl: \"/\",\n\t\t\ttemplateUrl: \"views/index.html\",\n\t\t\tcontroller: \"chatController\",\n\t\t\tcontrollerAs: \"vm\"\n\t\t})\n\t\t.state(\"login\", {\n\t\t\turl: \"/login\",\n\t\t\tcontroller: \"LoginController as login\",\n\t\t\ttemplateUrl: \"views/login/login.html\"\n\t\t})\n\t\t.state(\"signup\", {\n\t\t\turl: \"/signup\",\n\t\t\tcontroller: \"SignupController as signup\",\n\t\t\ttemplateUrl: \"views/login/signup.html\"\n\t\t})\n\t\t.state(\"app\", {\n\t\t\turl: \"/app\",\n\t\t\tabstract: true,\n\t\t\ttemplate: \"<ui-view></ui-view>\",\n\t\t\tresolve: {\n                    \"UserResolve\": UserResolutionService\n            }\n\t\t})\n\t\t.state(\"app.secured\", {\n\t\t\turl: \"/secured\",\n\t\t\tcontroller: \"DashboardController\",\n\t\t\ttemplateUrl: \"views/test.html\"\n\t\t});\n\n\n\tUserResolutionService.$inject = ['$q', '$state', 'User', '$rootScope'];\n    function UserResolutionService($q, $state, User, $rootScope) {\n\n        var deferred = $q.defer();\n\n        var user = new User();\n        user.$get(function(resp) {\n            deferred.resolve(resp);\n            $rootScope.user = user;\n        }, function() {\n            deferred.reject(\"You are not logged in\");\n            $state.go('login');\n        });\n\n        return deferred.promise;\n    }\n\n}\n})();","(function(){\n\t\nvar config = {\n\tchatserver: 'http://192.168.0.10:8080'\n};\n\n\n\tangular\n\t\t.module('chatbox')\n\t\t.constant('config', config);\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.controller('chatController', chatController);\n\nchatController.$inject = [\"$scope\", \"config\"];\n////\n\nfunction chatController($scope, config) {\n\t\n\tvar vm = this;\n\tvm.user = {data: \"adfs\"};\n\tvar socket;\n\tvm.message = \"\";\n\tvm.messageArray = [{name:\"adfafasf\", uMsg: true}, {name:\"adsfasdf\", uMsg: false}, \n\t{name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, \n\t{name:\"adfafasf\", uMsg: true}, {name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, \n\t{name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, {name:\"adfafasf\", uMsg: true}, \n\t{name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, {name:\"adsfasdf\", uMsg: false}, \n\t{name:\"adsfasdf\", uMsg: false}];\n\t\n\tvm.sendMessage = sendMessage;\n\n\tactivate();\n\n////\n\tfunction activate() {\n\t\tsocket = io(config.chatserver);\n\t\tsocket.on('chat', function(data) {\n\t\t\tvm.messageArray.push({name: data.message, uMsg: true});\n\t\t\t$scope.$apply();\n\t\t});\n\n\t\tsocket.emit('init', \"athulnath\");\n\t}\n\n\tfunction sendMessage() {\n\t\tvm.messageArray.push({name: vm.message, uMsg: false});\n\t\tsocket.emit('chat', \"athulnath\", { message: vm.message});\n\t\tvm.message = \"\";\n\t\t$(\"#btn-input\").focus();\n\t}\n\n}\t\t\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.controller('DashboardController', DashboardController);\n\n\tDashboardController.$inject = [\"$rootScope\"];\n\n\t/////\n\tfunction DashboardController($rootScope) {\n\n\t\tvar vm = this;\n\n\t\tvm.user = $rootScope.user;\n\t\n\t}\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.controller('LoginController', LoginController);\n\n\tLoginController.$inject = [\"LoginAPI\", \"$state\"];\n\n\t/////\n\tfunction LoginController(LoginAPI, $state) {\n\n\t\tvar vm = this;\n\n\t\tvm.form = {};\n\t\tvm.message = \"\";\n\n\t\t//public functions\n\t\tvm.submit = submit;\n\n\t\t/////\n\t\tfunction submit() {\n\t\t\tvar loginObj = new LoginAPI(vm.form);\n\t\t\tloginObj.$save(_onLoginSuccess, _onLoginFailure);\n\t\t}\n\n\t\tfunction _onLoginSuccess(user) {\n\t\t\t$state.go('app.secured');\n\t\t}\n\n\t\tfunction _onLoginFailure(data) {\n\t\t\tvm.message = \"login failed\";\n\t\t}\n\t\n\t}\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.controller('MainController', MainController);\n\n\tMainController.$inject = [\"$rootScope\", \"$state\", \"$http\"];\n\n\t/////\n\tfunction MainController($rootScope, $state, $http) {\n\n\t\tvar vm = this;\n\n\t\tvm.logout = logout;\n\n\t\tfunction logout() {\n\t\t\t$http.get(\"http://192.168.0.10:8080/user/logout\")\n\t\t\t\t.then(function() {\n\t\t\t\t\tdelete $rootScope.user;\n\t\t\t\t\t$state.go(\"login\");\n\t\t\t\t});\n\t\t}\n\t}\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.controller('SignupController', SignupController);\n\n\tSignupController.$inject = [\"SignupAPI\", \"$state\"];\n\n\t/////\n\tfunction SignupController(SignupAPI, $state) {\n\n\t\tvar vm = this;\n\n\t\tvm.form = {};\n\n\t\t//public functions\n\t\tvm.submit = submit;\n\n\t\t/////\n\t\tfunction submit() {\n\t\t\tvar signupObj = new SignupAPI(vm.form);\n\t\t\tsignupObj.$save(_onSignupSuccess, _onSignupFailure);\n\t\t}\n\n\t\tfunction _onSignupSuccess(user) {\n\t\t\t$state.go('login');\n\t\t}\n\n\t\tfunction _onSignupFailure() {\n\t\t\tconsole.log(\"login failed\");\n\t\t}\n\t\n\t}\n\n})();","(function(){\n\tangular\n\t\t.module(\"chatbox\")\n\t\t.directive(\"focus\", function () {\n  \t\t\treturn function (scope, element, attributes) {\n  \t\t\t\tconsole.log(\"calling\");\n    \t\t\telement[0].focus(); \n  \t\t}\n\t});\n})();","(function(){\n\tangular\n\t\t.module(\"chatbox\")\n\t\t.directive(\"scroll\", function () {\n  return function (scope, element, attributes) {\n    \t\tsetTimeout(function () {\n        \t\t\twindow.scrollTo(0, element[0].offsetTop - 100)\n    \t\t});\n  \t\t}\n\t});\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.factory('LoginAPI', LoginAPI);\n\n\tLoginAPI.$inject = ['$resource'];\n\n\t////\n\tfunction LoginAPI($resource) {\n\t\treturn $resource(\"http://192.168.0.10:8080/user/login/\");\n\t}\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.factory('SignupAPI', SignupAPI);\n\n\tSignupAPI.$inject = ['$resource'];\n\n\t////\n\tfunction SignupAPI($resource) {\n\t\treturn $resource(\"http://192.168.0.10:8080/user/signup/\");\n\t}\n\n})();","(function() {\n\tangular\n\t\t.module('chatbox')\n\t\t.factory('User', User);\n\n\tUser.$inject = ['$resource'];\n\n\t////\n\tfunction User($resource) {\n\t\treturn $resource(\"http://192.168.0.10:8080/user/me\");\n\t}\n\n})();"],"sourceRoot":"/source/"}